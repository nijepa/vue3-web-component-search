import{onMounted as x,ref as p,computed as v,watch as w,openBlock as u,createElementBlock as m,normalizeClass as h,normalizeStyle as y,createElementVNode as o,withDirectives as k,vModelText as j,Fragment as z,renderList as S,unref as L,toDisplayString as E,defineCustomElement as C}from"vue";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))s(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const n of t.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&s(n)}).observe(document,{childList:!0,subtree:!0});function a(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function s(e){if(e.ep)return;e.ep=!0;const t=a(e);fetch(e.href,t)}})();const O=async(c,l=void 0)=>{try{const s=[["Accept","application/json"]],e={method:c,headers:new Headers(s)},t=await fetch("https://incentivemall.srv-test05.cadooz.systems/mall/rest/catalog/getitems",e);if(t.error)console.log(1,t);else return console.log(2,t),t.status===500?[{name:"aaa",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bbb",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"ccc",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"abb",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bcc",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"cca",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bac",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bcc",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"cca",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bac",img:"https://incentivemall.srv-test05.cadooz.systems/addons/product/389/38988/attribute.product.img_bus_por_200x200.jpg",link:"#"}]:t.json()}catch(a){return console.log("Error: ",a),[{name:"aaa",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bbb",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"ccc",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"abb",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bcc",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"cca",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bac",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bcc",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"cca",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"},{name:"bac",img:"../assets/attribute.product.img_bus_por_200x200.jpg",link:"#"}]}},N=`*{font-family:Open Sans,sans-serif}#search-wrapper{font-family:Open Sans,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;position:fixed;top:0;bottom:0;left:0;right:0;z-index:-9;display:flex;height:0}#search-wrapper.infront{z-index:9999!important}#search-wrapper .search__open:after{position:absolute;top:0;left:0;right:0;bottom:0;background:transparent;content:"";transition:all 5s ease;opacity:1}#search-wrapper .search__open:after .hide{display:none;opacity:0}#search-wrapper .search{min-width:150px;background-color:#fff;border-bottom-left-radius:.5em;border-bottom-right-radius:0,5em;box-shadow:5px 5px 12px #00000026;position:relative;display:flex;flex-direction:column;align-items:center;padding:0 1em 1em;z-index:999;height:500px;width:100%;top:130px;opacity:1;overflow:hidden;overflow-y:auto;transition:.5s all ease}#search-wrapper .search.hide{padding:.5em;opacity:0;height:3.5em;z-index:-1}#search-wrapper .search .filter-results{display:flex;flex-direction:row;flex-wrap:wrap;margin-bottom:2rem;column-gap:1em;row-gap:1em;width:90%}#search-wrapper .search .filter-results>article{flex-basis:calc(25% - 1.5rem)}@media screen and (max-width: 1024px){#search-wrapper .search .filter-results>article{flex-basis:calc(33% - 1.5rem)}}@media screen and (max-width: 768px){#search-wrapper .search .filter-results>article{flex-basis:calc(50% - 1.5rem)}}@media screen and (max-width: 480px){#search-wrapper .search .filter-results>article{flex-basis:calc(100% - 1.5rem)}}.product{box-shadow:0 .125rem .5rem #2222221f;width:100%;border-radius:.5rem;transition:all .15s ease-in}.card{border:none}.card{position:relative;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem;text-decoration:none;max-width:350px}.product .card-body{position:relative;padding:1rem;transition:all .5s ease}.card:hover{transform:scale(1.03)}.card-body{-ms-flex:1 1 auto;flex:1 1 auto;min-height:1px;padding:1.25rem}.product__image-container{position:relative;width:100%;margin-bottom:1rem;padding-top:62.5%}.product__image-container__image{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);max-width:100%;max-height:100%;overflow:hidden}img{vertical-align:middle;border-style:none}.product__name{height:2.5rem;color:#333;line-height:1.25;overflow:hidden;font-weight:600}.search-box{display:flex;width:300px;column-gap:1em;margin:1em 0;position:sticky;top:0px;z-index:555555;width:100%;justify-content:center;background:white;padding:1em}.close{display:flex;border-radius:50%;padding:.5em;margin:.5em;width:20px;height:20px;transition:all .5s ease;cursor:pointer}.close:hover{background-color:#2c3e50;color:#fff}.close:hover .btn-close{fill:#fff;stroke:#fff}.btn-close{stroke:#2c3e50}.btn-close:hover{fill:#fff}.form-control{display:block;padding:.4rem 1.4rem;font-size:1rem;font-weight:400;line-height:1.5;color:#333;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;appearance:none;border-radius:0;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}
`,D=(c,l)=>{const a=c.__vccOpts||c;for(const[s,e]of l)a[s]=e;return a},A={class:"search-box"},M={class:"close"},B=o("path",{d:"M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z"},null,-1),F=[B],H={class:"filter-results"},V=["href"],q={class:"card-body"},I={class:"product__image-container logo-product"},J=["src","alt"],P={class:"product__name"},R={__name:"Custom-Search.ce",props:{isActive:{type:String,default:"false"}},emits:["close-search"],setup(c,{emit:l}){const a=c;x(()=>{console.log(8)});const s=p([]),e=async()=>{const i=await O("GET");i.error||console.log("received vouchers",i),console.log("err",i),s.value=i},t=p(null),n=p(null),b=v(()=>n.value&&s.value.length&&s.value.filter(i=>i.productName.toLowerCase().includes(n.value.toLowerCase()))),d=p(!1);w(()=>a.isActive,(i,g)=>{d.value=i==="true",d.value&&(!s.value.length&&e(),t.value.focus())});const f=p(null),_=()=>{d.value=!1,f.value.dispatchEvent(new CustomEvent("close-search",{bubbles:!0,composed:!0}))};return(i,g)=>(u(),m("div",{ref_key:"searchWrapper",ref:f,class:h({infront:d.value}),id:"search-wrapper",style:y({height:d.value?"100%":0})},[o("div",{class:h(["search__open",{hide:!d.value}]),onClick:_},null,2),o("div",{id:"toast",class:h(["search",{hide:!d.value}])},[o("div",A,[k(o("input",{type:"text","onUpdate:modelValue":g[0]||(g[0]=r=>n.value=r),class:"form-control",name:"",id:"",ref_key:"search",ref:t},null,512),[[j,n.value]]),o("div",M,[(u(),m("svg",{onClick:_,class:"btn-close",xmlns:"http://www.w3.org/2000/svg",width:"25px",viewBox:"0 0 16 16",fill:"grey"},F))])]),o("div",H,[(u(!0),m(z,null,S(L(b),r=>(u(),m("article",null,[o("a",{class:"card product",href:r.url},[o("div",q,[o("div",I,[o("img",{src:r==null?void 0:r.productLogoSmall,alt:r==null?void 0:r.productLogoSmall,class:"product__image-container__image"},null,8,J)]),o("div",P,E(r==null?void 0:r.productName),1)])],8,V)]))),256))])],2)],6))}},T=D(R,[["styles",[N]]]),W=C(T);customElements.define("custom-search",W);
